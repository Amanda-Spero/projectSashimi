<!DOCTYPE html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Project Sashimi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/reset.css" />

    <!-- jQuery reference -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <!-- Firebase reference -->
    <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>

    <!-- Bootstrap CSS reference -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">

    <!-- Bootstrap JS reference     -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</head>

<body>

    <!-- Begin Brian HTML ------------------------------------------------>
    <!-- ------------------------------------------------------------------- -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html">Project Sashimi</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#" data-toggle="modal" data-target="#myModal">Login</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                        Information
                    </a>
                    <!-- Add functionality -->
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Events</a>
                        <a class="dropdown-item" href="#">About Us</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Contact Us</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <!-- Modal for login  -->
    <div class="container">
        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Login to Your Account</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <form>
                            <input type="text" name="user" placeholder="Email" id="someUsername">
                            <input type="password" name="pass" placeholder="Password" id="somePassword">
                            <input type="submit" name="login" class="login loginmodal-submit" value="Login" id="someLogin">
                        </form>
                    </div>
                    <div class="login-help">
                        <a href="register.html" id="someSignup">Register</a>
                        <a href="#">Forgot Password</a>
                    </div>
                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- Display website name and image -->
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-3">Project Sashimi</h1>
            <p class="lead">Find your event!!</p>
        </div>
    </div>


    <!-- End Brian HTML -->
    <!-- Begin Amanda HTML -->
    <!-- -->
    <!--checkbox buttons to choose one or more types of events-->
    <div class="container-fluid">
        <button type="button" onclick="search1()" class="btn btn-info">Search by all</button>
        <button type="button" onclick="search2()" class="btn btn-success">Search by Title</button>
    </div>
    <!--Location form box-->
    <div class="form-group mx-sm-3 mb-2">
        <label for="inputLocation" class="sr-only">Location</label>
        <input style="display: none;" type="location" onkeyup="search_all()" class="form-control inputLocation hidden" id="inputLocation"
            placeholder="Search all">
        <input style="display: none;" type="location" class="form-control search_by_title hidden" placeholder="year" id="year">
        <input style="display: none;" type="location" class="form-control search_by_title hidden" placeholder="Search by Title" id="search_title">

        <!--Dropdown box to choose date range to search-->
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownDateButton" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">All Dates
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" id="today" href="#">Today</a>
                <a class="dropdown-item" id="thisWeekend" href="#">This Weekend</a>
                <a class="dropdown-item" id="thisWeek" href="#">This Week</a>
                <a class="dropdown-item" id="thisMonth" href="#">This Month</a>
            </div>
            <!--Submit button-->
            <button onclick="search_title()" type="submit" class="btn btn-secondary">Find Events</button>
        </div>
        <!-- End Amanda HTML-->
        <div class="main">
            <div class="wrap">
                <div class="section group">
                    <div id="show"></div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <script>
            function search1() {
                document.getElementById("inputLocation").style.display = "block";
                document.getElementById("year").style.display = "none";
                document.getElementById("search_title").style.display = "none";
            }
            function search2() {
                document.getElementById("inputLocation").style.display = "none";
                document.getElementById("search_title").style.display = "block";
                document.getElementById("year").style.display = "block";
            }
            function search_all() {
                var search_value = document.getElementById("inputLocation").value;
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        var myObj = JSON.parse(this.responseText);
                        var len = myObj.Search[0].Title;
                        var x = "";
                        var j;
                        var text = "";
                        var childlen = 0;
                        for (i in myObj.Search) {
                            if (myObj.Search[i].imdbID != null) {
                                x += '<div class="col_1_of_3 span_1_of_3"> <img width="400" height="241" src="' + myObj.Search[i].Poster + '" alt=""/> <div class="desc"><h3 id="title">' + myObj.Search[i].Title + '</h3><h4 class="m_2">Type: ' + myObj.Search[i].Type + '</h4> <h4 class="m_2">Release Year: ' + myObj.Search[i].Year + '</h4><h5 class="m_3">IMDB ID: ' + myObj.Search[i].imdbID + '</h5><h5 class="m_3">IMDB Url: <a target="_blank" href="http://www.imdb.com/title/' + myObj.Search[i].imdbID + '/">Link</a></h5> </div><div class="clear"></div></div></div>'
                            }
                        }
                        document.getElementById("show").innerHTML = x;
                    }
                };
                xmlhttp.open("GET", "https://www.omdbapi.com/?apikey=68842776&s=" + search_value + "", true);
                xmlhttp.send();
            }
            function search_title() {
                var search_value = document.getElementById("search_title").value;
                var year = document.getElementById("year").value;
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        var myObj = JSON.parse(this.responseText);
                        var x = "";
                        x += '<div class="col_1_of_3 span_1_of_3"> <img width="400" height="241" src="' + myObj.Poster + '" alt=""/> <div class="desc"><h3 id="title">' + myObj.Title + '</h3><h4 class="m_2">Type: ' + myObj.Type + '</h4> <h4 class="m_2">Release Year: ' + myObj.Year + '</h4><h5 class="m_3">IMDB ID: ' + myObj.imdbID + '</h5><h5 class="m_3">IMDB Url: <a target="_blank" href="http://www.imdb.com/title/' + myObj.imdbID + '/">Link</a></h5> </div><div class="section group example rating"><div class="col_1_of_2 span_1_of_2"> <ul> <li><img src="images/men.png" alt=""/><div class="m_desc"><span class="m_2">' + myObj.imdbRating + '%</span><br><span class="m_3">Rating</span></div><div class="clear"></div></li></ul> </div><div class="col_1_of_2 span_1_of_2"> <ul> <li><div class="m_desc"><span class="m_2">' + myObj.imdbVotes + '%</span><br><span class="m_3">ImdbVotes</span></div><div class="clear"></div></li></ul></div><div class="clear"></div></div></div>'
                        document.getElementById("show").innerHTML = x;
                    }
                };
                xmlhttp.open("GET", "https://www.omdbapi.com/?apikey=68842776&t=" + search_value + "&y=" + year + "", true);
                xmlhttp.send();
            }
        </script>
        <script src="assets/javascript/app.js"></script>
</body>

</html>