<!DOCTYPE html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Project Sashimi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <a href="index.html"></a>
    <a href="logInPage.html"></a>


    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style2.css" />


    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/reset.css" />

    <!-- jQuery reference -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <!-- Firebase reference -->
    <!--script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script-->

    <!-- Bootstrap CSS reference -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">

    <!-- Bootstrap JS reference     --> 
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</head>
<body>
<h1>My Movies</h1>
<hr>
<!-- <ul class="list-unstyled">
        <li class="media">
          <img class="mr-3" src="..." alt="Generic placeholder image">
          <div class="media-body">
            <h5 class="mt-0 mb-1">List-based media object</h5>
            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
          </div>
        </li>
        <li class="media my-4">
          <img class="mr-3" src="..." alt="Generic placeholder image">
          <div class="media-body">
            <h5 class="mt-0 mb-1">List-based media object</h5>
            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
          </div>
        </li>
        <li class="media">
          <img class="mr-3" src="..." alt="Generic placeholder image">
          <div class="media-body">
            <h5 class="mt-0 mb-1">List-based media object</h5>
            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
          </div>
        </li>
      </ul> -->


      <script src="/__/firebase/4.0.0/firebase-app.js"></script>
      <script src="/__/firebase/4.0.0/firebase-auth.js"></script>
      <script src="/__/firebase/init.js"></script>
      <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>

      <script type="text/javascript">
        var config = {
        apiKey: "AIzaSyB4a5waGPXg2EE5HqP_usiTHFj1dFDMPn8",
        authDomain: "terminalproject-1b555.firebaseapp.com",
        databaseURL: "https://terminalproject-1b555.firebaseio.com",
        projectId: "terminalproject-1b555",
        storageBucket: "terminalproject-1b555.appspot.com",
        messagingSenderId: "1094378745619"
      };
      firebase.initializeApp(config);

      var database=firebase.database();

      //var ref=firebase.database().ref;
      //ref.updateChildValues
// var userRef=firebase.database().ref.root

//  var userID= String = (FIRAuth.auth()?.currentUser?.uid)!
//     print("Current user ID is" + userID)

// var movieRef = firebase.database().ref('rules').orderByChild('favorites');
// movieList.on('child_added', function(data) {
//   addMovieElement(x);

// });

//////////////////////////////////var userId = firebase.auth().currentUser.uid;

// $("#quickstart-sign-in").on("click", function(){
//     event.preventDefault();
//     var user = $("#email").val.trim

//     dataRef.ref().push({
//     user: user,

//   });
//   console.log(user)

// });

var user = firebase.auth().currentUser;
var usersRef = firebase.database().ref("users");


$("#button").on("click", function(){
    event.preventDefault();
    
    dataRef.ref().push({
    user: user,

});
console.log(user);
console.log("button click captured");

});
// function writeUserData(userId, name, email, imageUrl) {
//   firebase.database().ref('/rules/users/$user_id' + userId).set({
//     user: name,
    
//   });

 dataRef.ref().on("child_added", function(childSnapshot) {

// Log everything that's coming out of snapshot
console.log(childSnapshot.val().user);
});



// var data = ref.child(uid);
// console.log(data);   

// });



// var user = firebase.auth().currentUser;
// var usersRef = firebase.database().ref("users");
// if (user) {
//   usersRef.child(user.uid).set({ 
//     user: uid
//   });
// }




// var userRef = firebase.database().ref('post-comments/' + postId);
// commentsRef.on('child_added', function(data) {
//   addCommentElement(postElement, data.key, data.val().text, data.val().author);
// });





// var userId = firebase.auth().currentUser.uid; 


//commentsRef.on('child_changed', function(data) {
//   setCommentValues(postElement, data.key, data.val().text, data.val().author);
// });

// commentsRef.on('child_removed', function(data) {
//   deleteComment(postElement, data.key);
// });


</script>
</body>
</html>